---
layout: default
author: muyalei
title: 网站镜像
date: 2019-10-16
tags:
  - 杂项
---


### 前言

遇到一个需求：打算以某网站为模版，搭建一个自己的网站，但是这个网站需要购买账号/密码才能登录查看，使用一个借来的账号给这个网站做个镜像，实现离线浏览。

### 使用Cyotek WebCopy、Httrack做网站镜像

简要说明`cyotek webcopy`的使用

可以在[https://www.cyotek.com/cyotek-webcopy/downloads](https://www.cyotek.com/cyotek-webcopy/downloads)或[备用下载地址](https://github.com/muyalei/muyalei.github.io/tree/gh-pages/tools)下载cyotek，免费软件。注意，一定要在官网下载，其他第三方下载的，可能软件有问题。

![使用示意图](https://github.com/muyalei/muyalei.github.io/blob/gh-pages/img/2019-10-16-%E7%BD%91%E7%AB%99%E9%95%9C%E5%83%8F_%E5%9B%BE%E7%89%87_1.png)

在上图中的`Websit`框中输入要镜像的网站url，`Save folder`框输入文件保存地址，点击`Copy Websit`开始镜像网站。

镜像需要登录认证的网站，参考：[https://www.cyotek.com/cyotek-webcopy/tutorial-authentication](https://www.cyotek.com/cyotek-webcopy/tutorial-authentication)

如果是需要登录认证的网站，可以点击`Capture Form`按钮，通过一步一步点击，到达要登录认证的页面，软件会自动检查到要提交的表单及参数，页面只有一个表单的时候检查结果是Default，多个表单的时候，选择要提交的表单，然后选择提交参数，最后点击`Create Form`，生成表单，返回软件主页面，点击`Forms and Passwords`，填写表单参数的值，填写完成后，点击`Apply`、`Ok`。

**缺点**：常见的网站镜像工具对动态页面支持很差，最后这两个工具都没能实现需求。

### 使用浏览器自带的`脱机工作`功能实现离线浏览网站

chrome从75版本后不再支持脱机工作，我是用了firefox(69.0.3)

- **步骤**

1、点击firefox右上角的三条横线菜单选项>Web开发者>脱机工作，启用脱机工作功能

2、浏览需要离线浏览的网站，对于使用了大量js实现的页面，能点的地方都点下

3、断网，访问刚才的网址，如果页面异常，可以试试刷新页面

4、如果需要长期离线浏览这个网站，可以将这个网站的缓存文件备份出来，每次需要浏览这个网站了，就将这个备份的缓存文件覆盖firefox存放缓存文件的文件夹中的内容


- **更改firefox默认缓存文件存放位置**

整理自[https://jingyan.baidu.com/article/17bd8e5212f5f885aa2bb860.html](https://jingyan.baidu.com/article/17bd8e5212f5f885aa2bb860.html)

1、firefox浏览器搜索框中输入 about:config ，按回车

2、在列出来的表中任意鼠标右键，移动到新建，选择“字符串  ”输入首选项名称为"browser.cache.disk.parent_directory" ,之后鼠标单击“确定”

3、输入 字符串 的值 ，为你需要保存到的非系统盘路径，例如输入“ E:\Firefox Files ”,之后鼠标单击“确定”

4、在列出来的表中任意鼠标右键，移动到新建，选择“字符串  ”输入首选项名称为"browser.cache.offline.parent_directory" ,之后鼠标单击“确定”

5、输入 字符串 的值 ，为你需要保存到的非系统盘路径（也可以和前面设置的路径一样），例如输入“ E:\Firefox Files ”,之后鼠标单击“确定”

6、在搜索框中的空白处输入：“ browser.cache.disk.enable”，确保字符串的值必须为” true "，保障设置的（硬盘缓存）路径有效

7、在搜索框中的空白处输入：“browser.cache.offline.enable”，确保字符串的值必须为” true“ ，保障设置的（脱机缓存）路径有效

8、重启Firefox浏览器，之后在左上角的地址栏空白处输入“  about:cache  ”，之后按下回车键（Enter），查看缓存路径已经被更改


