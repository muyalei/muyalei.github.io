---
layout:     post
title:      虚拟机使用
subtitle:   虚拟机
date:       2018-05-18
author:     muyalei
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
    - 虚拟机
---

## centos7初始化设置

### 1、网卡设置

/etc/sysconfig/network-scripts/ifcfg-eno16777736中设置网卡eno16777736，修改参数为BOOTPROTO=dhcp、ONBOOT=yes，systemctl restart network，
正常情况下，现在与本机可以相互ping通并且可以连接网络。

如果不能ping通本机且不能连接网络，可尝试 编辑-虚拟网络编辑器 中删除vmnet1、vmnet8后重新添加vmnet1和vmnet8（注意：重新添加的vmnet为仅主机模式，vmnet8为
nat模式！）


### 2、安装ifconfig命令

ifconfig命令包含在`net-tools.x86_64`模块中，执行命令`yum install net-tools.x86_64`


### 3、安装vmware-tools.pl

- 准备：
```
yum install gcc  kernel-headers kernel-devel   ///因为编译需要，要装这几个包
```
- 安装：
```
挂载光驱：
mkdir /mnt/cdrom       ///创建挂载目录
mount /dev/cdrom /mnt/cdrom    ///将光驱挂载到/mnt/cdrom目录
cd /mut/cdrom 
里面有两个文件，.rpm文件是给Red Hat准备的，只需要.tar.gz的那个
cp VMwareTools-XXXX.tar.gz /usr/local     ///复制VMware-tools到/usr/local目录 ，其中XXX是版本号。
cd /usr/local     ///切换到local目录
tar -vzxf VMware Tools-XXX.tar.gz     ///解压，区分大小写，也可以先输入前几个字母按Tab键系统补充后面的。

环境好了，下面开始安装VMware-tools
cd vmware-tools-distrib  ///进入解压出来的目录
./vmware-install.pl    ///运行vmware-install.pl文件开始安装。
会提示若干次yes or no 直接一路回车就行，直到最后出现“Enjoy——the VMware team”的字样，VMwareTools安装完成。
```
- 卸载：
```
到刚才解压的目录/usr/local/vmware-tools-distrib/bin 目录或者 /usr/bin
cd /usr/local/vmware-tools-distrib/bin
./vmware-uninstall-tools.pl    ///运行卸载程序
rm -rf /etc/vmware-caf     ///递归强制 删除残留目录
rm -rf /etc/vmware-tools   ///递归强制 删除残留目录
rm -rvf /usr/lib/vmware-tools     ///递归强制 删除残留目录
```

### 4、设置虚拟机网卡信息、配置宿主机vmnet8





## 各种意外情况

- 1、win10系统，安装过VMware后，在本地的网络适配器中找不到相关的虚拟网卡VMnet


- 2、安装vmware-tools.pl时报错：`bash: ./vmware-install.pl: /user/bin/perl: 坏的解释器:没有那个文件或目录`


- 3

