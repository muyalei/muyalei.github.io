---
layout: default
author: muyalei
date: 2018-12-03
title: mac安装redis
tags:
   - redis
---

***转载自[https://blog.csdn.net/jason_m_ho/article/details/80007330](https://blog.csdn.net/jason_m_ho/article/details/80007330)***


### 简介：

redis 本质上是一个高性能的 Key，Value 数据库； 
支持存储的类型相对更多；（String、list、set、hash）；

>ps : 查询频率高，且查询的是相同的内容，就用 redis 做缓存；

典型的非关系型数据库，不用写sql语句的数据库；(在高并发的时候对关系型数据库起到一个很好的补充作用)

### 默认端口

redis 的默认端口是 6379

### 安装 redis

- 官网下载[https://redis.io/download](https://redis.io/download)，下载 stable 版本，稳定版本。

![]https://github.com/muyalei/muyalei.github.io/blob/gh-pages/img/2018-12-03-mac%E5%AE%89%E8%A3%85redis_%E5%9B%BE%E7%89%871.png()https://github.com/muyalei/muyalei.github.io/blob/gh-pages/img/2018-12-03-mac%E5%AE%89%E8%A3%85redis_%E5%9B%BE%E7%89%871.png

- 解压：tar zxvf redis-4.0.9.tar.gz
- 移动到： mv redis-4.0.9 /usr/local/
- 切换到：cd /usr/local/redis-4.0.9/
- 编译测试 sudo make test
- 编译安装 sudo make install
### redis 的启动与停止

redis-server 和 redis-cli 位于 redis-4.0.9/src 目录下 
- 启动方式一：直接启动 Redis： redis-server ，成功后会看到下图： 

![]https://github.com/muyalei/muyalei.github.io/blob/gh-pages/img/2018-12-03-mac%E5%AE%89%E8%A3%85redis_%E5%9B%BE%E7%89%872.png(https://github.com/muyalei/muyalei.github.io/blob/gh-pages/img/2018-12-03-mac%E5%AE%89%E8%A3%85redis_%E5%9B%BE%E7%89%872.png)

- 启动方式二：启动 Redis 并加载配置文件： redis-server /etc/redis.conf
- 打开redis客户端 redis-cli；如果有密码，可使用 auth yourpassword 做简单的密码登录
- 关闭方式一：在客户端执行 SHUTDOWN 可关闭 redis 服务
- 如果关闭不了就加一个参数，执行 SHUTDOWN NOSAVE 可关闭 redis 服务
- 关闭方式二：如果用了zsh，可以执行kill redis并按tab，结束 redis 进程，也可在活动监视器里结束掉进程。
### redis 配置

这里只配置了后台启动和增加一个连接密码，需要的话可以看一下配置文档，每一个配置都有详细说明：

- 拷贝 redis-4.0.9/redis.conf 到 /etc 目录
- 修改 redis.conf 配置文件 
   - requirepass yourpassword 添加密码，在第500行；
   - daemonize yes，设置后台启动，在第136行；
客户端常用命令：

命令              用途
set key value	  设置 key 的值
get key	          获取 key 的值
exists key	      查看此 key 是否存在
keys *	          查看所有的 key
flushall	      消除所有的 key

示例：
![https://github.com/muyalei/muyalei.github.io/blob/gh-pages/img/2018-12-03-mac%E5%AE%89%E8%A3%85redis_%E5%9B%BE%E7%89%873.png](https://github.com/muyalei/muyalei.github.io/blob/gh-pages/img/2018-12-03-mac%E5%AE%89%E8%A3%85redis_%E5%9B%BE%E7%89%873.png)


### 图形客户端下载

安装mac客户端 ： redis-desktop-manager<br/> 
官网下载地址[https://redisdesktop.com/](https://redisdesktop.com/)<br/> 
官网上下载是要收费的，这个软件的作者非常良心，把这个项目放在github上开源了，github 下载地址[https://github.com/uglide/RedisDesktopManager/releases](https://github.com/uglide/RedisDesktopManager/releases)，github 上只能下载到测试版。还是呼吁大家如果不差钱的话，支持一下作者，毕竟，程序员不支持程序员，还能指望谁呢？

软件界面： 

![https://github.com/muyalei/muyalei.github.io/blob/gh-pages/img/2018-12-03-mac%E5%AE%89%E8%A3%85redis_%E5%9B%BE%E7%89%874.png](https://github.com/muyalei/muyalei.github.io/blob/gh-pages/img/2018-12-03-mac%E5%AE%89%E8%A3%85redis_%E5%9B%BE%E7%89%874.png)

### 安装时报错解决

笔者为了测试，进行了多次安装和卸载，重复安装没有卸载干净会报下面的错: 
```
[exception]: Executing test client: couldn't execute "src/redis-benchmark": 
make[1]: *** [test] Error 1 make: *** [test] Error 2
```
解决这个错误，执行下面的语句即可： 
```
make distclean 
make 
make test
```
